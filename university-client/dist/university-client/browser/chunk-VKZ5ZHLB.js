import{$ as ee,A as b,B as d,C as J,D as s,E as C,F as O,G as w,I,J as M,K as P,L as K,M as A,N as B,O as Q,P as Ie,Q as Fe,R as Ee,S as Oe,V as W,X as L,Z as Le,_ as X,a as H,aa as _,b as fe,ba as te,c as ve,ca as ie,d as Ce,da as U,e as he,ea as x,f as xe,fa as ne,ga as re,h as N,ha as oe,i as ye,ia as ae,j as be,ja as se,k as F,ka as ce,l as E,la as le,m as Y,ma as V,n as Se,na as j,o as pe,oa as me,p as S,pa as Te,q as a,qa as Ne,r as h,s as u,t as c,u as i,v as o,w as p,x as f,y as v,z as T}from"./chunk-BOMFQHQL.js";var y=(()=>{let n=class n{isConnected(){return sessionStorage.getItem("userToken")!=null}isLecturer(){return sessionStorage.getItem("role")=="lecturer"}navigateIfNotLoggedIn(){this.isConnected()||this._router.navigate(["/"])}getCourses(){return this._http.get(this._serviceName+"/courses")}getCourseById(r){return this._http.get(this._serviceName+`/courses/${r}`)}getCoursesByFilters(r){return this.getCourses().pipe(ve(l=>l.filter(m=>(r.name==null||m.name.toLowerCase().includes(r.name.toLowerCase()))&&(r.category==null||m.categoryId==r.category)&&(r.option==null||m.optionLearning==r.option))))}addCourse(r){return this._http.post(this._serviceName+"/courses",r)}editCouse(r,l){return this._http.put(this._serviceName+`/courses/${r}`,l)}deleteCourse(r){return new Promise((l,m)=>{this._http.post(this._serviceName+"/courses",r).subscribe({next:g=>l(g),error:g=>m(g)})})}getCategories(){return this._http.get(this._serviceName+"/categories")}getLecturers(){return this._http.get(this._serviceName+"/lecturers")}constructor(r,l){this._http=r,this._router=l,this._serviceName="/university"}};n.\u0275fac=function(l){return new(l||n)(pe(Fe),pe(L))},n.\u0275prov=Y({token:n,factory:n.\u0275fac});let e=n;return e})();var De=H(X());var q=(()=>{let n=class n{transform(r){switch(r){case"0":return"/assets/option-learning/0.png";case"1":return"/assets/option-learning/1.png";default:return""}}};n.\u0275fac=function(l){return new(l||n)},n.\u0275pipe=be({name:"learningOptionIcon",type:n,pure:!0});let e=n;return e})();function Re(e,n){if(e&1&&(i(0,"option",12),s(1),o()),e&2){let t=n.$implicit;c("value",t.id),a(),O(" ",t.name," ")}}function ze(e,n){if(e&1){let t=T();i(0,"div",20)(1,"div",21),b("click",function(){let m=F(t).$implicit,g=d();return E(g.navigateToDetails(m.id))}),p(2,"img",22),i(3,"div",23)(4,"h4",24),s(5),o(),i(6,"div",25)(7,"div",26),p(8,"img",27),i(9,"h6",28),s(10," Category: "),o()(),i(11,"p",26),s(12),o()(),i(13,"div",25)(14,"div",26),s(15," \u{1F551} "),i(16,"h6",28),s(17,"Length Of Course:"),o()(),i(18,"p",26),s(19),o()(),i(20,"div",25)(21,"div",26),s(22," \u{1F4C6} "),i(23,"h6",28),s(24," Course Start Date:"),o()(),i(25,"p",26),s(26),M(27,"date"),o()(),i(28,"div",25)(29,"div",26),p(30,"img",29),M(31,"learningOptionIcon"),i(32,"h6",28),s(33," Learning Option: "),o()(),i(34,"p",26),s(35),o()(),i(36,"div",25)(37,"div",26),s(38," \u{1F468}\u200D\u{1F3EB} "),i(39,"h6",28),s(40,"Lecturer: "),o()(),i(41,"p",26),s(42),o()()()()()}if(e&2){let t=n.$implicit,r=d(),l,m,g;a(2),c("src","../../../../../"+t.image,S),a(3),C(t.name),a(3),c("src",(l=r.matchCategory(t.categoryId))==null?null:l.icon,S),a(4),C((m=r.matchCategory(t.categoryId))==null?null:m.name),a(7),O("",t.numberLessons," Hours"),a(7),C(P(27,9,t.dateStart)),a(4),c("src",P(31,11,t==null||t.optionLearning==null?null:t.optionLearning.toString()),S),a(5),C(t.optionLearning?"zoom":"frontal"),a(7),C((g=r.matchLecturer(t.lecturerId))==null?null:g.name)}}var qe=(()=>{let n=class n{userIsLecturer(){return this._service.isLecturer()}matchCategory(r){return this.categories?.find(l=>l.id==r)}matchLecturer(r){return this.lecturers?.find(l=>l.id==r)}navigateToDetails(r){this._service.isConnected()&&this._router.navigate([`/course/details/${r}`])}search(r,l){switch(r){case"name":this.filterByName=l==""?null:l;break;case"category":this.filterByCategoryId=l=="0"?null:parseInt(l);break;case"option":this.filterByOption=l=="0"?null:parseInt(l)}this.searchTerms.next({name:this.filterByName,category:this.filterByCategoryId,option:this.filterByOption})}constructor(r,l){this._service=r,this._router=l,this.isInstructor=!0,this.filterByName=null,this.filterByCategoryId=null,this.filterByOption=null,this.searchTerms=new fe}ngOnInit(){this._service.navigateIfNotLoggedIn(),this.searchTerms.pipe(Ce(1e3),he(),xe(r=>this._service.getCoursesByFilters(r))).subscribe(r=>this.courses=r),this._service.getCourses().subscribe({next:r=>this.courses=r,error:()=>{De.default.fire({icon:"error",title:"Oops...",text:"you are not logged in. enter ->"}),this._router.navigate(["/user/login"])}}),this._service.getCategories().subscribe(r=>this.categories=r),this._service.getLecturers().subscribe(r=>this.lecturers=r)}};n.\u0275fac=function(l){return new(l||n)(h(y),h(L))},n.\u0275cmp=N({type:n,selectors:[["app-all-courses"]],features:[w([y])],decls:33,vars:6,consts:[[1,"container"],[1,"text-center"],[1,"turquoise"],[1,"input-group"],[1,"form-floating"],["id","searchByName","placeholder","","type","text","aria-describedby","button",1,"form-control",3,"change"],["seachByName",""],["for","searchByName"],["type","button btn-success","id","button",1,"btn","btn-outline-secondary"],[1,"input-group","form-floating"],["id","categoryId",1,"form-select",3,"change"],["seachByCategory",""],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","categoryId"],["id","option",1,"form-select",3,"change"],["searchByOption",""],["for","option"],[1,"row"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"card","margin-top",3,"click"],["alt","Course Image",1,"card-img-top",3,"src"],[1,"card-body","align-start"],[1,"card-title","turquoise","align-center"],[1,"card-text"],[1,"inline"],["alt","category icon",1,"radio-icon",3,"src"],[1,"turquoise","inline"],["alt","Learning Option Icon",1,"radio-icon",3,"src"]],template:function(l,m){if(l&1){let g=T();i(0,"div",0)(1,"div",1)(2,"h2",2),s(3,"All Courses"),o()(),i(4,"div",3)(5,"div",4)(6,"input",5,6),b("change",function(){F(g);let z=J(7);return E(m.search("name",z.value))}),o(),i(8,"label",7),s(9,"Search By Name:"),o()(),i(10,"button",8),s(11,"Search"),o()(),i(12,"div",9)(13,"select",10,11),b("change",function(){F(g);let z=J(14);return E(m.search("category",z.value))}),i(15,"option",12),s(16,"None"),o(),u(17,Re,2,2,"option",13),o(),i(18,"label",14),s(19,"Search By Category:"),o()(),i(20,"div",9)(21,"select",15,16),b("change",function(){F(g);let z=J(22);return E(m.search("option",z.value))}),i(23,"option",12),s(24,"None"),o(),i(25,"option",12),s(26,"ZOOM"),o(),i(27,"option",12),s(28,"FRONTAL"),o()(),i(29,"label",17),s(30,"Search By Option Learning:"),o()(),i(31,"div",18),u(32,ze,43,13,"div",19),o()()}l&2&&(a(15),c("value",0),a(2),c("ngForOf",m.categories),a(6),c("value",0),a(2),c("value",1),a(2),c("value",2),a(5),c("ngForOf",m.courses))},dependencies:[A,V,j,Q,q],styles:["img.card-img-top[_ngcontent-%COMP%]{max-height:10rem;width:fit-content;margin:auto}.card[_ngcontent-%COMP%]{text-align:center}.align-start[_ngcontent-%COMP%]{text-align:start}.align-center[_ngcontent-%COMP%]{text-align:center}.inline[_ngcontent-%COMP%]{display:inline}.card-text[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.margin-top[_ngcontent-%COMP%]{margin-top:3rem}"]});let e=n;return e})();var k=class{constructor(n){this.name=n?.name,this.categoryId=n?.categoryId,this.numberLessons=n?.numberLessons,this.dateStart=n?.dateStart,this.cilibus=n?.cilibus,this.optionLearning=n?.optionLearning,this.lecturerId=n?.lecturerId,this.image=n?.image}};var $=H(X());function Ue(e,n){e&1&&(i(0,"div",37),s(1," This field is required"),o())}function $e(e,n){if(e&1&&(f(0),u(1,Ue,2,0,"div",36),v()),e&2){let t=d(2);a(),c("ngIf",t.courseForm.controls.name.errors.required)}}function Ge(e,n){if(e&1&&(i(0,"option",38),s(1),o()),e&2){let t=n.$implicit;c("value",t.id),a(),O(" ",t.name," ")}}function Ze(e,n){e&1&&(i(0,"div",37),s(1,"This field is required"),o())}function He(e,n){if(e&1&&(f(0),u(1,Ze,2,0,"div",36),v()),e&2){let t=d(2);a(),c("ngIf",t.courseForm.controls.categoryId.errors.required)}}function Ye(e,n){if(e&1&&(i(0,"option",38),s(1),o()),e&2){let t=n.$implicit;c("value",t.id),a(),C(t.name)}}function Je(e,n){e&1&&(i(0,"div",37),s(1,"This field is required"),o())}function Ke(e,n){if(e&1&&(f(0),u(1,Je,2,0,"div",36),v()),e&2){let t=d(2);a(),c("ngIf",t.courseForm.controls.lecturerId.errors.required)}}function Qe(e,n){e&1&&(i(0,"div",37),s(1,"This field is required"),o())}function We(e,n){e&1&&(i(0,"div",37),s(1,"This field must be positive"),o())}function Xe(e,n){if(e&1&&(f(0),u(1,Qe,2,0,"div",36)(2,We,2,0,"div",36),v()),e&2){let t=d(2);a(),c("ngIf",t.courseForm.controls.numberLessons.errors.required),a(),c("ngIf",t.courseForm.controls.numberLessons.errors.min)}}function et(e,n){e&1&&(i(0,"div",37),s(1,"This field is required"),o())}function tt(e,n){if(e&1&&(f(0),u(1,et,2,0,"div",36),v()),e&2){let t=d(2);a(),c("ngIf",t.courseForm.controls.dateStart.errors.required)}}function it(e,n){e&1&&(i(0,"div",37),s(1,"This field is required"),o())}function nt(e,n){if(e&1&&(f(0),u(1,it,2,0,"div",36),v()),e&2){let t=d().index,r=d(2);a(),c("ngIf",r.courseForm.get("cilibus."+t).errors.required)}}var G=e=>({"is-invalid":e});function rt(e,n){if(e&1){let t=T();i(0,"div",39)(1,"div",8)(2,"input",40),b("input",function(){let m=F(t).index,g=d(2);return E(g.onCilibusChange(m))}),o(),i(3,"label"),s(4),o(),u(5,nt,2,1,"ng-container",11),o()()}if(e&2){let t=n.index,r=d(2);a(2),c("ngClass",I(4,G,r.courseForm.get("cilibus."+t).touched&&r.courseForm.get("cilibus."+t).errors))("formControlName",t),a(2),O("Cilibus ",t+1,":"),a(),c("ngIf",r.courseForm.get("cilibus."+t).touched&&r.courseForm.get("cilibus."+t).errors)}}function ot(e,n){e&1&&(i(0,"div",37),s(1," This field is required"),o())}function at(e,n){if(e&1&&(f(0),u(1,ot,2,0,"div",36),v()),e&2){let t=d(2);a(),c("ngIf",t.courseForm.controls.image.errors.required)}}function st(e,n){if(e&1&&(i(0,"div"),p(1,"img",41),o()),e&2){let t=d(2);a(),c("src",t.courseForm.get("image").value,S)}}function ct(e,n){if(e&1&&(f(0,4),i(1,"div",5)(2,"div",8),p(3,"input",9),i(4,"label",10),s(5,"Course Name:"),o(),u(6,$e,2,1,"ng-container",11),o(),i(7,"div",8)(8,"select",12),u(9,Ge,2,2,"option",13),o(),i(10,"label",14),s(11,"Category:"),o(),u(12,He,2,1,"ng-container",11),o(),i(13,"div",8)(14,"div",8)(15,"select",15),u(16,Ye,2,2,"option",13),o(),i(17,"label",16),s(18,"Lecturer:"),o(),u(19,Ke,2,1,"ng-container",11),o(),i(20,"div",8),p(21,"input",17),i(22,"label",18),s(23,"Number of Lessons:"),o(),u(24,Xe,3,2,"ng-container",11),o(),i(25,"div",8),p(26,"input",19),i(27,"label",20),s(28,"Start Date:"),o(),u(29,tt,2,1,"ng-container",11),o(),i(30,"div",4)(31,"div",21)(32,"div",8)(33,"div",22),s(34,"Select Learning Option: "),o(),i(35,"div",23),p(36,"input",24),i(37,"label",25),s(38," ZOOM "),p(39,"img",26),o()(),i(40,"div",23),p(41,"input",27),i(42,"label",28),s(43," FRONTAL "),p(44,"img",29),o()()()()(),p(45,"br"),i(46,"div",30),u(47,rt,6,6,"div",31),o(),i(48,"div",8),p(49,"input",32),i(50,"label",33),s(51,"Image URL:"),o(),u(52,at,2,1,"ng-container",11),o(),u(53,st,2,1,"div",11),i(54,"div",34)(55,"button",35),s(56,"Add Course"),o()()()(),v()),e&2){let t=d();a(3),c("ngClass",I(15,G,t.courseForm.controls.name.touched&&t.courseForm.controls.name.errors)),a(3),c("ngIf",t.courseForm.controls.name.touched&&t.courseForm.controls.name.errors),a(3),c("ngForOf",t.categeries),a(3),c("ngIf",t.courseForm.controls.categoryId.touched&&t.courseForm.controls.categoryId.errors),a(4),c("ngForOf",t.lecturers),a(3),c("ngIf",t.courseForm.controls.lecturerId.touched&&t.courseForm.controls.lecturerId.errors),a(2),c("ngClass",I(17,G,t.courseForm.controls.numberLessons.touched&&t.courseForm.controls.numberLessons.errors)),a(3),c("ngIf",t.courseForm.controls.numberLessons.touched&&t.courseForm.controls.numberLessons.errors),a(2),c("ngClass",I(19,G,t.courseForm.controls.dateStart.touched&&t.courseForm.controls.dateStart.errors)),a(3),c("ngIf",t.courseForm.controls.dateStart.touched&&t.courseForm.controls.dateStart.errors),a(18),c("ngForOf",t.cilibusArray.controls),a(2),c("ngClass",I(21,G,t.courseForm.controls.image.touched&&t.courseForm.controls.image.errors)),a(3),c("ngIf",t.courseForm.controls.image.touched&&t.courseForm.controls.image.errors),a(),c("ngIf",t.courseForm.get("image").value),a(2),c("disabled",t.courseForm.invalid)}}var Me=(()=>{let n=class n{get cilibusArray(){return this.courseForm.get("cilibus")}addCilibus(){this.cilibusArray.push(this.formBuilder.control(""))}removeCilibus(r){this.cilibusArray.removeAt(r)}onCilibusChange(r){let l=this.cilibusArray.length;r===l-1&&this.courseForm.get("cilibus."+r).value!==""&&this.addCilibus(),this.courseForm.get("cilibus."+r).value===""&&l>1&&this.removeCilibus(r)}onSubmit(){this.courseForm.invalid||(this.courseForm.value.optionLearning=parseInt(this.courseForm.value.optionLearning),this._service.addCourse(this.courseForm.value).subscribe({next:r=>{$.default.fire({position:"top-end",icon:"success",title:"Perfect",text:"Course has been saved successfuly :)",showConfirmButton:!1,timer:2e3}),this._router.navigate(["/course/all"])},error:r=>{$.default.fire({icon:"error",title:"Oops...",text:"Something went wrong! course is not valid"})}}))}constructor(r,l,m){this._service=r,this.formBuilder=l,this._router=m,this.course=new k,this.courseForm=new U({name:new x(this.course.name,[_.required]),categoryId:new x(this.course.categoryId,[_.required,_.min(1)]),numberLessons:new x(this.course.numberLessons,[_.required,_.min(1)]),dateStart:new x(this.course.dateStart,[_.required]),optionLearning:new x(this.course.optionLearning,[_.required]),lecturerId:new x(this.course.lecturerId,[_.required,_.min(1)]),cilibus:this.formBuilder.array([]),image:new x(this.course.image,[_.required])})}ngOnInit(){this._service.navigateIfNotLoggedIn(),this._service.isLecturer()||this._router.navigate(["/"]),this.addCilibus(),this._service.getCategories().subscribe({next:r=>this.categeries=r,error:()=>$.default.fire({icon:"error",title:"Oops...",text:"you are not logged in. enter ->"})}),this._service.getLecturers().subscribe({next:r=>this.lecturers=r,error:()=>$.default.fire({icon:"error",title:"Oops...",text:"you are not logged in. enter ->"})})}};n.\u0275fac=function(l){return new(l||n)(h(y),h(me),h(L))},n.\u0275cmp=N({type:n,selectors:[["app-add-course"]],features:[w([y])],decls:9,vars:2,consts:[["id","courseForm",3,"formGroup","ngSubmit"],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title","text-center","turquoise"],["class","card",4,"ngIf"],[1,"form-group","form-floating","mb-3"],["type","text","id","name","formControlName","name","name","name",1,"form-control",3,"ngClass"],["for","name"],[4,"ngIf"],["formControlName","categoryId","id","categoryId",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","categoryId"],["formControlName","lecturerId","id","lecturerId",1,"form-select"],["for","lecturerId"],["type","number","id","numberLessons","formControlName","numberLessons","name","numberLessons",1,"form-control",3,"ngClass"],["for","numberLessons"],["type","date","id","dateStart","formControlName","dateStart","name","dateStart",1,"form-control",3,"ngClass"],["for","dateStart"],[1,"card-body","forOptionLearning"],["id","forOptionLearning","for","optionLearning"],[1,"form-check"],["type","radio","name","optionLearning","id","zoomOption","value","0","formControlName","optionLearning",1,"form-check-input"],["for","zoomOption",1,"form-check-label"],["src","/assets/option-learning/1.png","alt","Zoom Icon",1,"radio-icon"],["type","radio","name","optionLearning","id","frontalOption","value","1","formControlName","optionLearning",1,"form-check-input"],["for","frontalOption",1,"form-check-label"],["src","/assets/option-learning/0.png","alt","Frontal Icon",1,"radio-icon"],["formArrayName","cilibus"],["class","mb-3",4,"ngFor","ngForOf"],["type","text","id","image","formControlName","image","name","image",1,"form-control",3,"ngClass"],["for","image"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-success",3,"disabled"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[3,"value"],[1,"mb-3"],["type","text",1,"form-control",3,"ngClass","formControlName","input"],["alt","Uploaded Image",3,"src"]],template:function(l,m){l&1&&(i(0,"form",0),b("ngSubmit",function(){return m.onSubmit()}),i(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),s(7,"Add Course"),o(),u(8,ct,57,23,"ng-container",7),o()()()()()()),l&2&&(c("formGroup",m.courseForm),a(8),c("ngIf",m.course))},dependencies:[K,A,B,ne,V,j,ee,re,le,oe,te,ie,ae,ce,se],styles:["#courseForm[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}select[_ngcontent-%COMP%]{appearance:none}.radio-icon[_ngcontent-%COMP%]{width:1em;height:1em;margin-right:.5em}.forOptionLearning[_ngcontent-%COMP%]{padding:1rem .75rem 0rem}#forOptionLearning[_ngcontent-%COMP%]{color:rgba(var(--bs-body-color-rgb),.65);transform:scale(.85) translateY(-.5rem) translate(.15rem);text-align:start}"]});let e=n;return e})();var R=H(X());function lt(e,n){e&1&&(i(0,"div",37),s(1," This field is required"),o())}function mt(e,n){if(e&1&&(f(0),u(1,lt,2,0,"div",36),v()),e&2){let t=d(2);a(),c("ngIf",t.courseForm.controls.name.errors.required)}}function ut(e,n){if(e&1&&(i(0,"option",38),s(1),o()),e&2){let t=n.$implicit;c("value",t.id),a(),C(t.name)}}function dt(e,n){e&1&&(i(0,"div",37),s(1," This field is required"),o())}function pt(e,n){if(e&1&&(f(0),u(1,dt,2,0,"div",36),v()),e&2){let t=d(2);a(),c("ngIf",t.courseForm.controls.categoryId.errors.required)}}function gt(e,n){if(e&1&&(i(0,"option",38),s(1),o()),e&2){let t=n.$implicit;c("value",t.id),a(),C(t.name)}}function _t(e,n){e&1&&(i(0,"div",37),s(1," This field is required"),o())}function ft(e,n){if(e&1&&(f(0),u(1,_t,2,0,"div",36),v()),e&2){let t=d(2);a(),c("ngIf",t.courseForm.controls.lecturerId.errors.required)}}function vt(e,n){e&1&&(i(0,"div",37),s(1,"This field is required"),o())}function Ct(e,n){e&1&&(i(0,"div",37),s(1,"This field must be positive"),o())}function ht(e,n){if(e&1&&(f(0),u(1,vt,2,0,"div",36)(2,Ct,2,0,"div",36),v()),e&2){let t=d(2);a(),c("ngIf",t.courseForm.controls.numberLessons.errors.required),a(),c("ngIf",t.courseForm.controls.numberLessons.errors.min)}}function xt(e,n){e&1&&(i(0,"div",37),s(1,"This field is required"),o())}function yt(e,n){if(e&1&&(f(0),u(1,xt,2,0,"div",36),v()),e&2){let t=d(2);a(),c("ngIf",t.courseForm.controls.dateStart.errors.required)}}function bt(e,n){e&1&&(i(0,"div",37),s(1,"This field is required"),o())}function St(e,n){if(e&1&&(f(0),u(1,bt,2,0,"div",36),v()),e&2){let t=d().index,r=d(2);a(),c("ngIf",r.courseForm.get("cilibus."+t).errors.required)}}var Z=e=>({"is-invalid":e});function It(e,n){if(e&1){let t=T();i(0,"div",39)(1,"div",8)(2,"input",40),b("input",function(){let m=F(t).index,g=d(2);return E(g.onCilibusChange(m))}),o(),i(3,"label"),s(4),o(),u(5,St,2,1,"ng-container",11),o()()}if(e&2){let t=n.index,r=d(2);a(2),c("ngClass",I(4,Z,r.courseForm.get("cilibus."+t).touched&&r.courseForm.get("cilibus."+t).errors))("formControlName",t),a(2),O("Cilibus ",t+1,":"),a(),c("ngIf",r.courseForm.get("cilibus."+t).touched&&r.courseForm.get("cilibus."+t).errors)}}function Ft(e,n){e&1&&(i(0,"div",37),s(1," This field is required"),o())}function Et(e,n){if(e&1&&(f(0),u(1,Ft,2,0,"div",36),v()),e&2){let t=d(2);a(),c("ngIf",t.courseForm.controls.image.errors.required)}}function Ot(e,n){if(e&1&&(i(0,"div"),p(1,"img",41),o()),e&2){let t=d(2);a(),c("src",t.courseForm.get("image").value,S)}}function Lt(e,n){if(e&1&&(f(0,4),i(1,"div",5)(2,"div",8),p(3,"input",9),i(4,"label",10),s(5,"Course Name:"),o(),u(6,mt,2,1,"ng-container",11),o(),i(7,"div",8)(8,"select",12),u(9,ut,2,2,"option",13),o(),i(10,"label",14),s(11,"Category:"),o(),u(12,pt,2,1,"ng-container",11),o(),i(13,"div",8)(14,"select",15),u(15,gt,2,2,"option",13),o(),i(16,"label",16),s(17,"Lecturer:"),o(),u(18,ft,2,1,"ng-container",11),o(),i(19,"div",8),p(20,"input",17),i(21,"label",18),s(22,"Number of Lessons:"),o(),u(23,ht,3,2,"ng-container",11),o(),i(24,"div",8),p(25,"input",19),i(26,"label",20),s(27,"Start Date:"),o(),u(28,yt,2,1,"ng-container",11),o(),i(29,"div",4)(30,"div",21)(31,"div",8)(32,"div",22),s(33,"Select Learning Option: "),o(),i(34,"div",23),p(35,"input",24),i(36,"label",25),s(37," ZOOM "),p(38,"img",26),o()(),i(39,"div",23),p(40,"input",27),i(41,"label",28),s(42," FRONTAL "),p(43,"img",29),o()()()()(),p(44,"br"),i(45,"div",30),u(46,It,6,6,"div",31),o(),i(47,"div",8),p(48,"input",32),i(49,"label",33),s(50,"Image URL:"),o(),u(51,Et,2,1,"ng-container",11),o(),u(52,Ot,2,1,"div",11),i(53,"div",34)(54,"button",35),s(55,"Edit Course"),o()()(),v()),e&2){let t=d();a(3),c("ngClass",I(17,Z,t.courseForm.controls.name.touched&&t.courseForm.controls.name.errors)),a(3),c("ngIf",t.courseForm.controls.name.touched&&t.courseForm.controls.name.errors),a(3),c("ngForOf",t.categeries),a(3),c("ngIf",t.courseForm.controls.categoryId.touched&&t.courseForm.controls.categoryId.errors),a(3),c("ngForOf",t.lecturers),a(3),c("ngIf",t.courseForm.controls.lecturerId.touched&&t.courseForm.controls.lecturerId.errors),a(2),c("ngClass",I(19,Z,t.courseForm.controls.numberLessons.touched&&t.courseForm.controls.numberLessons.errors)),a(3),c("ngIf",t.courseForm.controls.numberLessons.touched&&t.courseForm.controls.numberLessons.errors),a(2),c("ngClass",I(21,Z,t.courseForm.controls.dateStart.touched&&t.courseForm.controls.dateStart.errors)),a(3),c("ngIf",t.courseForm.controls.dateStart.touched&&t.courseForm.controls.dateStart.errors),a(7),c("value",0),a(5),c("value",1),a(6),c("ngForOf",t.cilibusArray.controls),a(2),c("ngClass",I(23,Z,t.courseForm.controls.image.touched&&t.courseForm.controls.image.errors)),a(3),c("ngIf",t.courseForm.controls.image.touched&&t.courseForm.controls.image.errors),a(),c("ngIf",t.courseForm.get("image").value),a(2),c("disabled",t.courseForm.invalid)}}var Pe=(()=>{let n=class n{get course(){return this._course}set course(r){this._course=r,this.course!=null&&(this.courseForm=new U({name:new x(this.course.name,[_.required]),categoryId:new x(this.course.categoryId,[_.required,_.min(1)]),numberLessons:new x(this.course.numberLessons,[_.required,_.min(1)]),dateStart:new x(this.course.dateStart,[_.required]),optionLearning:new x(this.course.optionLearning,[_.required]),lecturerId:new x(this.course.lecturerId,[_.required,_.min(1)]),cilibus:this.formBuilder.array(this.course.cilibus),image:new x(this.course.image,[_.required])}))}get cilibusArray(){return this.courseForm.get("cilibus")}addCilibus(){this.cilibusArray.push(this.formBuilder.control(""))}removeCilibus(r){this.cilibusArray.removeAt(r)}onCilibusChange(r){let l=this.cilibusArray.length;r===l-1&&this.courseForm.get("cilibus."+r).value!==""&&this.addCilibus(),this.courseForm.get("cilibus."+r).value===""&&l>1&&this.removeCilibus(r)}getImage(r){return r[1]==":",""+r}onSubmit(){if(!this.courseForm.invalid){this.courseForm.value.optionLearning=parseInt(this.courseForm.value.optionLearning);for(var r=this.cilibusArray.length-1;this.courseForm.value.cilibus[r]==null||this.courseForm.value.cilibus[r]=="";)this.courseForm.value.cilibus.pop(),r--;this._service.editCouse(this.id,this.courseForm.value).subscribe({next:l=>{R.default.fire({position:"top-end",icon:"success",title:"Perfect",text:"Course has been changed successfuly :)",showConfirmButton:!1,timer:2e3}),this._router.navigate(["/course/all"])},error:()=>{R.default.fire({icon:"error",title:"Oops...",text:"Something went wrong! course is not valid"})}})}}constructor(r,l,m,g){this._service=r,this._actroute=l,this._router=m,this.formBuilder=g,this.courseForm=new U({})}ngOnInit(){this._service.navigateIfNotLoggedIn(),this._actroute.paramMap.subscribe(r=>this.id=parseInt(r.get("id"))),this._service.getCourseById(this.id).subscribe({next:r=>{this.course=r,this.addCilibus()},error:()=>{R.default.fire({icon:"error",title:"Oops...",text:"There is no Course with such a id number"}),this._router.navigate(["/course/all"])}}),this._service.getCategories().subscribe({next:r=>this.categeries=r,error:()=>R.default.fire({icon:"error",title:"Oops...",text:"you are not logged in. enter ->"})}),this._service.getLecturers().subscribe({next:r=>this.lecturers=r,error:()=>R.default.fire({icon:"error",title:"Oops...",text:"you are not logged in. enter ->"})})}};n.\u0275fac=function(l){return new(l||n)(h(y),h(W),h(L),h(me))},n.\u0275cmp=N({type:n,selectors:[["app-edit-course"]],features:[w([y])],decls:9,vars:2,consts:[["id","courseForm",3,"formGroup","ngSubmit"],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title","text-center","turquoise"],["class","card",4,"ngIf"],[1,"form-group","form-floating","mb-3"],["type","text","id","name","formControlName","name","name","name",1,"form-control",3,"ngClass"],["for","name"],[4,"ngIf"],["formControlName","categoryId","id","categoryId",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","categoryId"],["formControlName","lecturerId","id","lecturerId",1,"form-select"],["for","lecturerId"],["type","number","id","numberLessons","formControlName","numberLessons","name","numberLessons",1,"form-control",3,"ngClass"],["for","numberLessons"],["type","datetime-local","id","dateStart","formControlName","dateStart","name","dateStart",1,"form-control",3,"ngClass"],["for","dateStart"],[1,"card-body","forOptionLearning"],["id","forOptionLearning","for","optionLearning"],[1,"form-check"],["type","radio","name","optionLearning","id","zoomOption","formControlName","optionLearning",1,"form-check-input",3,"value"],["for","zoomOption",1,"form-check-label"],["src","assets/option-learning/1.png","alt","Zoom Icon",1,"radio-icon"],["type","radio","name","optionLearning","id","frontalOption","formControlName","optionLearning",1,"form-check-input",3,"value"],["for","frontalOption",1,"form-check-label"],["src","assets/option-learning/0.png","alt","Frontal Icon",1,"radio-icon"],["formArrayName","cilibus"],["class","mb-3",4,"ngFor","ngForOf"],["type","text","id","image","formControlName","image","name","image",1,"form-control",3,"ngClass"],["for","image"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-success",3,"disabled"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[3,"value"],[1,"mb-3"],["type","text",1,"form-control",3,"ngClass","formControlName","input"],["alt","Uploaded Image",3,"src"]],template:function(l,m){l&1&&(i(0,"form",0),b("ngSubmit",function(){return m.onSubmit()}),i(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),s(7,"Edit Course"),o(),u(8,Lt,56,25,"ng-container",7),o()()()()()()),l&2&&(c("formGroup",m.courseForm),a(8),c("ngIf",m.course))},dependencies:[K,A,B,ne,V,j,ee,re,le,oe,te,ie,ae,ce,se],styles:["#courseForm[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;margin-bottom:1rem}select[_ngcontent-%COMP%]{appearance:none}.forOptionLearning[_ngcontent-%COMP%]{padding:1rem .75rem 0rem}#forOptionLearning[_ngcontent-%COMP%]{color:rgba(var(--bs-body-color-rgb),.65);transform:scale(.85) translateY(-.5rem) translate(.15rem);text-align:start}"]});let e=n;return e})();var Be=H(X());function Tt(e,n){if(e&1&&(i(0,"ul",16)(1,"li",17),s(2),o()()),e&2){let t=n.$implicit;a(2),C(t)}}function Nt(e,n){if(e&1){let t=T();i(0,"button",18),b("click",function(){F(t);let l=d();return E(l.editCourse())}),s(1,"Update Course Details"),o()}}var Ve=(()=>{let n=class n{editCourse(){this._router.navigate(["/course/edit/"+this.course.id])}constructor(r,l,m,g){this._service=r,this.learningOptionIcon=l,this._router=m,this._actroute=g,this.course=new k}ngOnInit(){this._service.navigateIfNotLoggedIn();var r;this._actroute.params.subscribe(l=>r=parseInt(l.id)),this._service.getCourseById(r).subscribe({next:l=>this.course=l,error:()=>Be.default.fire({icon:"error",title:"Oops...",text:"can't connect to server"})}),this._service.getCategories().subscribe(l=>this.category=l.find(m=>m.id==this.course.categoryId)),this._service.getLecturers().subscribe(l=>this.lecturer=l.find(m=>m.id==this.course.lecturerId)),this.isLecturer=sessionStorage.getItem("role")=="lecturer"}};n.\u0275fac=function(l){return new(l||n)(h(y),h(q),h(L),h(W))},n.\u0275cmp=N({type:n,selectors:[["app-course-details"]],features:[w([y,q])],decls:51,vars:15,consts:[[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3"],[1,"card"],["alt","Course Image",1,"card-img-top",3,"src"],[1,"card-body","align-start"],[1,"card-title","turquoise","align-center"],[1,"card-text"],[1,"inline"],["alt","category icon",1,"radio-icon",3,"src"],[1,"turquoise","inline"],["alt","Learning Option Icon",1,"radio-icon",3,"src"],[1,"card-header","turquoise"],["class","list-group list-group-flush",4,"ngFor","ngForOf"],[1,"card-body"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"btn","btn-success",3,"click"]],template:function(l,m){l&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"img",4),i(5,"div",5)(6,"h4",6),s(7),o(),i(8,"div",7)(9,"div",8),p(10,"img",9),i(11,"h6",10),s(12," Category: "),o()(),i(13,"p",8),s(14),o()(),i(15,"div",7)(16,"div",8),s(17," \u{1F551} "),i(18,"h6",10),s(19,"Length Of Course:"),o()(),i(20,"p",8),s(21),o()(),i(22,"div",7)(23,"div",8),s(24," \u{1F4C6} "),i(25,"h6",10),s(26," Course Start Date:"),o()(),i(27,"p",8),s(28),M(29,"date"),o()(),i(30,"div",7)(31,"div",8),p(32,"img",11),M(33,"learningOptionIcon"),i(34,"h6",10),s(35," Learning Option: "),o()(),i(36,"p",8),s(37),o()(),i(38,"div",7)(39,"div",8),s(40," \u{1F468}\u200D\u{1F3EB} "),i(41,"h6",10),s(42,"Lecturer: "),o()(),i(43,"p",8),s(44),o()()(),i(45,"div")(46,"h6",12),s(47," Cilibus: "),o(),u(48,Tt,3,1,"ul",13),o(),i(49,"div",14),u(50,Nt,2,0,"button",15),o()()()()()),l&2&&(a(4),c("src","../../../../../"+m.course.image,S),a(3),C(m.course.name),a(3),c("src",m.category==null?null:m.category.icon,S),a(4),C(m.category==null?null:m.category.name),a(7),O("",m.course.numberLessons," Hours"),a(7),C(P(29,11,m.course.dateStart)),a(4),c("src",P(33,13,m.course==null||m.course.optionLearning==null?null:m.course.optionLearning.toString()),S),a(5),C(m.course.optionLearning?"zoom":"frontal"),a(7),C(m.lecturer==null?null:m.lecturer.name),a(4),c("ngForOf",m.course.cilibus),a(2),c("ngIf",m.isLecturer))},dependencies:[A,B,Q,q],styles:["img.card-img-top[_ngcontent-%COMP%]{max-height:10rem;width:fit-content;margin:auto}.card[_ngcontent-%COMP%]{text-align:center}.align-start[_ngcontent-%COMP%]{text-align:start}.align-center[_ngcontent-%COMP%]{text-align:center}.inline[_ngcontent-%COMP%]{display:inline}.card-text[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]});let e=n;return e})();var je=[{path:"all",component:qe},{path:"add",component:Me},{path:"edit/:id",component:Pe},{path:"details/:id",component:Ve}];var ke=(()=>{let n=class n{intercept(r,l){var m;sessionStorage.getItem("userToken")!=null?m=sessionStorage.getItem("userToken"):m="Bearer 111";let g=r.clone({headers:r.headers.set("Authorization",m).set("Accept","application/json")});return l.handle(g)}};n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac});let e=n;return e})();var fi=(()=>{let n=class n{};n.\u0275fac=function(l){return new(l||n)},n.\u0275mod=ye({type:n}),n.\u0275inj=Se({providers:[n,{provide:Ee,useClass:ke,multi:!0}],imports:[Oe,Ie,Te,Ne,Le.forChild(je)]});let e=n;return e})();export{fi as a};
